<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="processonSvg1000" viewBox="58.7499885559082 65.0 563.7000045776367 10117.0" width="563.7000045776367" height="10117.0"><defs id="ProcessOnDefs1001"><marker id="ProcessOnMarker1013" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1014" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1050" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1051" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1082" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1083" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1110" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1111" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1171" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1172" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1235" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1236" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1317" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1318" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker><marker id="ProcessOnMarker1366" markerUnits="userSpaceOnUse" orient="auto" markerWidth="16.23606797749979" markerHeight="10.550836550532098" viewBox="-1.0 -1.3763819204711736 16.23606797749979 10.550836550532098" refX="-1.0" refY="3.8990363547948754"><path id="ProcessOnPath1367" d="M12.0 3.8990363547948754L0.0 7.798072709589751V0.0Z" stroke="#323232" stroke-width="2.0" fill="#323232" transform="matrix(1.0,0.0,0.0,1.0,0.0,0.0)"/></marker></defs><g id="ProcessOnG1002"><path id="ProcessOnPath1003" d="M58.7499885559082 65.0H622.4499931335449V10182.0H58.7499885559082V65.0Z" fill="none"/><g id="ProcessOnG1004"><g id="ProcessOnG1005" transform="matrix(1.0,0.0,0.0,1.0,82.59999084472656,176.0)" opacity="1.0"><path id="ProcessOnPath1006" d="M0.0 4.0Q0.0 0.0 4.0 0.0L512.0 0.0Q516.0 0.0 516.0 4.0L516.0 599.3999938964844Q516.0 603.3999938964844 512.0 603.3999938964844L4.0 603.3999938964844Q0.0 603.3999938964844 0.0 599.3999938964844Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/></g><g id="ProcessOnG1007" transform="matrix(1.0,0.0,0.0,1.0,260.59999084472656,85.0)" opacity="1.0"><path id="ProcessOnPath1008" d="M0.0 4.0Q0.0 0.0 4.0 0.0L156.0 0.0Q160.0 0.0 160.0 4.0L160.0 36.0Q160.0 40.0 156.0 40.0L4.0 40.0Q0.0 40.0 0.0 36.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1009" transform="matrix(1.0,0.0,0.0,1.0,10.0,8.125)"><text id="ProcessOnText1010" fill="#000000" font-size="19" x="69.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">运输层协议综述</text></g></g><g id="ProcessOnG1011"><path id="ProcessOnPath1012" d="M340.59999084472656 125.0L340.59999084472656 150.5L340.59999084472656 150.5L340.59999084472656 160.7639320225002" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1013)"/></g><g id="ProcessOnG1015" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,186.0)" opacity="1.0"><path id="ProcessOnPath1016" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 93.0Q494.0 97.0 490.0 97.0L4.0 97.0Q0.0 97.0 0.0 93.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1017" transform="matrix(1.0,0.0,0.0,1.0,10.0,12.875)"><text id="ProcessOnText1018" fill="#000000" font-size="19" x="236.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">运输层有一组很重要的功能：复用和分用</text><text id="ProcessOnText1019" fill="#000000" font-size="19" x="236.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">不同的应用进程可以使用同一个运输层协议传送数据</text><text id="ProcessOnText1020" fill="#000000" font-size="19" x="236.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">接收方运输层剥去报文首部后可以正确交付目的进程</text></g></g><g id="ProcessOnG1021" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,323.0)" opacity="1.0"><path id="ProcessOnPath1022" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 181.0Q494.0 185.0 490.0 185.0L4.0 185.0Q0.0 185.0 0.0 181.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1023" transform="matrix(1.0,0.0,0.0,1.0,10.0,9.375)"><text id="ProcessOnText1024" fill="#000000" font-size="19" x="236.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">网络层为主机之间提供逻辑通信</text><text id="ProcessOnText1025" fill="#000000" font-size="19" x="236.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">运输层为应用进程之间提供端到端的逻辑通信</text><text id="ProcessOnText1026" fill="#000000" font-size="19" x="236.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">运输层协议有无连接的UDP和面向连接的TCP</text><text id="ProcessOnText1027" fill="#000000" font-size="19" x="236.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">当运输层采用面向连接的TCP协议时，即使下面的网络</text><text id="ProcessOnText1028" fill="#000000" font-size="19" x="236.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">是不可靠的，但这种逻辑通信信道就相当于一条全双工</text><text id="ProcessOnText1029" fill="#000000" font-size="19" x="236.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">可靠信道；当运输层采用无连接的UDP协议时，这种</text><text id="ProcessOnText1030" fill="#000000" font-size="19" x="236.0" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">逻辑通信信道仍然是一条不可靠的信道</text></g></g><g id="ProcessOnG1031" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,553.0)" opacity="1.0"><path id="ProcessOnPath1032" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 214.39999389648438Q494.0 218.39999389648438 490.0 218.39999389648438L4.0 218.39999389648438Q0.0 218.39999389648438 0.0 214.39999389648438Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1033" transform="matrix(1.0,0.0,0.0,1.0,10.0,14.199996948242188)"><text id="ProcessOnText1034" fill="#000000" font-size="19" x="236.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">用户数据报协议UDP： User Datagram Protocol</text><text id="ProcessOnText1035" fill="#000000" font-size="19" x="236.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">传输控制协议TCP： Transmission Control Protocol</text><text id="ProcessOnText1036" fill="#000000" font-size="19" x="236.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">协议栈层间抽象的协议端口是软件端口</text><text id="ProcessOnText1037" fill="#000000" font-size="19" x="236.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">软件端口是应用层各种协议进程和</text><text id="ProcessOnText1038" fill="#000000" font-size="19" x="236.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">运输实体进行层间交互的一种地址</text><text id="ProcessOnText1039" fill="#000000" font-size="19" x="236.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">端口号为16位，只有本地意义</text><text id="ProcessOnText1040" fill="#000000" font-size="19" x="236.0" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">服务器端使用的端口号：系统端口号和登记端口号</text><text id="ProcessOnText1041" fill="#000000" font-size="19" x="236.0" y="185.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">客户端使用的端口号：在客户进程运行时才动态选择</text></g></g><g id="ProcessOnG1042" transform="matrix(1.0,0.0,0.0,1.0,82.59999084472656,914.9999923706055)" opacity="1.0"><path id="ProcessOnPath1043" d="M0.0 4.0Q0.0 0.0 4.0 0.0L512.0 0.0Q516.0 0.0 516.0 4.0L516.0 480.40003204345703Q516.0 484.40003204345703 512.0 484.40003204345703L4.0 484.40003204345703Q0.0 484.40003204345703 0.0 480.40003204345703Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/></g><g id="ProcessOnG1044" transform="matrix(1.0,0.0,0.0,1.0,260.59999084472656,823.9999923706055)" opacity="1.0"><path id="ProcessOnPath1045" d="M0.0 4.0Q0.0 0.0 4.0 0.0L156.0 0.0Q160.0 0.0 160.0 4.0L160.0 36.0Q160.0 40.0 156.0 40.0L4.0 40.0Q0.0 40.0 0.0 36.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1046" transform="matrix(1.0,0.0,0.0,1.0,10.0,8.125)"><text id="ProcessOnText1047" fill="#000000" font-size="19" x="69.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">用户数据报协议</text></g></g><g id="ProcessOnG1048"><path id="ProcessOnPath1049" d="M340.59999084472656 863.9999923706055L340.59999084472656 889.4999923706055L340.59999084472656 889.4999923706055L340.59999084472656 899.7639243931056" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1050)"/></g><g id="ProcessOnG1052" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,923.9999923706055)" opacity="1.0"><path id="ProcessOnPath1053" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 182.40003204345703Q494.0 186.40003204345703 490.0 186.40003204345703L4.0 186.40003204345703Q0.0 186.40003204345703 0.0 182.40003204345703Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1054" transform="matrix(1.0,0.0,0.0,1.0,10.0,10.075016021728516)"><text id="ProcessOnText1055" fill="#000000" font-size="19" x="236.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">UDP只在IP数据报之上增加了很少一点功能</text><text id="ProcessOnText1056" fill="#000000" font-size="19" x="236.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">复用和分用的功能和差错检测的功能</text><text id="ProcessOnText1057" fill="#000000" font-size="19" x="236.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">①无连接    ②尽最大努力交付    ③首部开销小</text><text id="ProcessOnText1058" fill="#000000" font-size="19" x="236.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">④没有拥塞控制：适合用于实时应用</text><text id="ProcessOnText1059" fill="#000000" font-size="19" x="236.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">⑤支持一对一、一对多、多对一和多对多交互通信</text><text id="ProcessOnText1060" fill="#000000" font-size="19" x="236.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">⑥面向报文：发送方的UDP对应用程序交下来的报文</text><text id="ProcessOnText1061" fill="#000000" font-size="19" x="236.0" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">在添加首部后就向下交付IP层，一次交付一个完整报文</text></g></g><g id="ProcessOnG1062" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,1156.9999923706055)" opacity="1.0"><path id="ProcessOnPath1063" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 230.40003204345703Q494.0 234.40003204345703 490.0 234.40003204345703L4.0 234.40003204345703Q0.0 234.40003204345703 0.0 230.40003204345703Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1064" transform="matrix(1.0,0.0,0.0,1.0,10.0,10.325016021728516)"><text id="ProcessOnText1065" fill="#000000" font-size="19" x="236.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">首部格式：</text><text id="ProcessOnText1066" fill="#000000" font-size="19" x="236.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">①源端口    ②目的端口    ③长度    ④检验和</text><text id="ProcessOnText1067" fill="#000000" font-size="19" x="236.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">如果接收方UDP发现报文中的目的端口号不正确</text><text id="ProcessOnText1068" fill="#000000" font-size="19" x="236.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">丢弃该报文并由ICMP发送“端口不可达”差错报文</text><text id="ProcessOnText1069" fill="#000000" font-size="19" x="236.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">计算检验和时临时添加伪首部到UDP数据报的前面</text><text id="ProcessOnText1070" fill="#000000" font-size="19" x="236.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">IP数据报的检验和只检查IP数据报的首部</text><text id="ProcessOnText1071" fill="#000000" font-size="19" x="236.0" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">UDP的检验和把首部和数据部分一起检查</text><text id="ProcessOnText1072" fill="#000000" font-size="19" x="236.0" y="185.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">即检查源端口号、目的端口号、数据部分、</text><text id="ProcessOnText1073" fill="#000000" font-size="19" x="236.0" y="209.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">IP数据报的源IP地址和目的IP地址</text></g></g><g id="ProcessOnG1074" transform="matrix(1.0,0.0,0.0,1.0,82.59999084472656,1537.9999923706055)" opacity="1.0"><path id="ProcessOnPath1075" d="M0.0 4.0Q0.0 0.0 4.0 0.0L512.0 0.0Q516.0 0.0 516.0 4.0L516.0 368.00000762939453Q516.0 372.00000762939453 512.0 372.00000762939453L4.0 372.00000762939453Q0.0 372.00000762939453 0.0 368.00000762939453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/></g><g id="ProcessOnG1076" transform="matrix(1.0,0.0,0.0,1.0,247.34999084472656,1448.9999923706055)" opacity="1.0"><path id="ProcessOnPath1077" d="M0.0 4.0Q0.0 0.0 4.0 0.0L182.5 0.0Q186.5 0.0 186.5 4.0L186.5 35.00000762939453Q186.5 39.00000762939453 182.5 39.00000762939453L4.0 39.00000762939453Q0.0 39.00000762939453 0.0 35.00000762939453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1078" transform="matrix(1.0,0.0,0.0,1.0,10.0,7.625003814697266)"><text id="ProcessOnText1079" fill="#000000" font-size="19" x="82.25" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">传输控制协议TCP</text></g></g><g id="ProcessOnG1080"><path id="ProcessOnPath1081" d="M340.59999084472656 1488.0L340.59999084472656 1512.9999961853027L340.59999084472656 1512.9999961853027L340.59999084472656 1522.7639243931058" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1082)"/></g><g id="ProcessOnG1084" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,1546.9999923706055)" opacity="1.0"><path id="ProcessOnPath1085" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 234.00000762939453Q494.0 238.00000762939453 490.0 238.00000762939453L4.0 238.00000762939453Q0.0 238.00000762939453 0.0 234.00000762939453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1086" transform="matrix(1.0,0.0,0.0,1.0,10.0,0.2500038146972656)"><text id="ProcessOnText1087" fill="#000000" font-size="19" x="236.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">TCP提供可靠交付、提供全双工通信</text><text id="ProcessOnText1088" fill="#000000" font-size="19" x="236.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">两端设有发送缓存和接收缓存</text><text id="ProcessOnText1089" fill="#000000" font-size="19" x="236.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">TCP面向字节流</text><text id="ProcessOnText1090" fill="#000000" font-size="19" x="236.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">TCP中的“流”指的是流入进程或从进程流出的字节序</text><text id="ProcessOnText1091" fill="#000000" font-size="19" x="236.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">列</text><text id="ProcessOnText1092" fill="#000000" font-size="19" x="236.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">TCP把应用程序交下来的数据看成一连串无结构的字节</text><text id="ProcessOnText1093" fill="#000000" font-size="19" x="236.0" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">流</text><text id="ProcessOnText1094" fill="#000000" font-size="19" x="236.0" y="185.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">TCP不关心应用进程一次把多长的报文发送到TCP缓存</text><text id="ProcessOnText1095" fill="#000000" font-size="19" x="236.0" y="209.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">根据对方给出的窗口值和网络拥塞程度决定一个报文</text><text id="ProcessOnText1096" fill="#000000" font-size="19" x="236.0" y="233.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">应该包含多少字节，而UDP的报文长度是进程给出的</text></g></g><g id="ProcessOnG1097" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,1828.9999923706055)" opacity="1.0"><path id="ProcessOnPath1098" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 68.59998321533203Q494.0 72.59998321533203 490.0 72.59998321533203L4.0 72.59998321533203Q0.0 72.59998321533203 0.0 68.59998321533203Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1099" transform="matrix(1.0,0.0,0.0,1.0,10.0,12.549991607666016)"><text id="ProcessOnText1100" fill="#000000" font-size="19" x="236.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">TCP连接的端点叫套接字（socket）或插口</text><text id="ProcessOnText1101" fill="#000000" font-size="19" x="236.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">端口号拼接到IP地址即构成了套接字</text></g></g><g id="ProcessOnG1102" transform="matrix(1.0,0.0,0.0,1.0,82.59999084472656,2028.4999923706055)" opacity="1.0"><path id="ProcessOnPath1103" d="M0.0 4.0Q0.0 0.0 4.0 0.0L512.0 0.0Q516.0 0.0 516.0 4.0L516.0 1124.5000076293945Q516.0 1128.5000076293945 512.0 1128.5000076293945L4.0 1128.5000076293945Q0.0 1128.5000076293945 0.0 1124.5000076293945Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/></g><g id="ProcessOnG1104" transform="matrix(1.0,0.0,0.0,1.0,243.84999084472656,1951.4999923706055)" opacity="1.0"><path id="ProcessOnPath1105" d="M0.0 4.0Q0.0 0.0 4.0 0.0L189.5 0.0Q193.5 0.0 193.5 4.0L193.5 34.09998321533203Q193.5 38.09998321533203 189.5 38.09998321533203L4.0 38.09998321533203Q0.0 38.09998321533203 0.0 34.09998321533203Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1106" transform="matrix(1.0,0.0,0.0,1.0,10.0,7.174991607666016)"><text id="ProcessOnText1107" fill="#000000" font-size="19" x="85.75" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">可靠传输的工作原理</text></g></g><g id="ProcessOnG1108"><path id="ProcessOnPath1109" d="M340.59999084472656 1989.5999755859375L340.59999084472656 2009.0499839782715L340.59999084472656 2009.0499839782715L340.59999084472656 2013.2639243931058" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1110)"/></g><g id="ProcessOnG1112" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,2036.4999923706055)" opacity="1.0"><path id="ProcessOnPath1113" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 203.09998321533203Q494.0 207.09998321533203 490.0 207.09998321533203L4.0 207.09998321533203Q0.0 207.09998321533203 0.0 203.09998321533203Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1114" transform="matrix(1.0,0.0,0.0,1.0,10.0,8.549991607666016)"><text id="ProcessOnText1115" fill="#000000" font-size="19" x="0.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">理想的传输条件：</text><text id="ProcessOnText1116" fill="#000000" font-size="19" x="0.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">传输信道不产生差错</text><text id="ProcessOnText1117" fill="#000000" font-size="19" x="0.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">不管发送方以多快的速度发送，接受方总能来得及处理</text><text id="ProcessOnText1118" fill="#000000" font-size="19" x="0.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19"></text><text id="ProcessOnText1119" fill="#000000" font-size="19" x="0.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">当出现差错时让发送方重传出现差错的数据，在接收方</text><text id="ProcessOnText1120" fill="#000000" font-size="19" x="0.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">来不及处理收到的数据时，及时告诉发送方适当降低发</text><text id="ProcessOnText1121" fill="#000000" font-size="19" x="0.0" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">送数据的速度。这样，本来不可靠的传输信道就能实现</text><text id="ProcessOnText1122" fill="#000000" font-size="19" x="0.0" y="185.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">可靠传输了。</text></g></g><g id="ProcessOnG1123" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,2283.4999923706055)" opacity="1.0"><path id="ProcessOnPath1124" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 459.30005645751953Q494.0 463.30005645751953 490.0 463.30005645751953L4.0 463.30005645751953Q0.0 463.30005645751953 0.0 459.30005645751953Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1125" transform="matrix(1.0,0.0,0.0,1.0,10.0,6.025028228759766)"><text id="ProcessOnText1126" fill="#000000" font-size="19" x="0.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">停止等待协议：</text><text id="ProcessOnText1127" fill="#000000" font-size="19" x="0.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">停止等待就是每发送完一个分组就停止发送，等待对方</text><text id="ProcessOnText1128" fill="#000000" font-size="19" x="0.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">的确认。在收到确认后再发送下一个分组。</text><text id="ProcessOnText1129" fill="#000000" font-size="19" x="0.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">发送方只要超过一段时间没有收到确认，就认为刚才发</text><text id="ProcessOnText1130" fill="#000000" font-size="19" x="0.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">送的分组丢失了（也可能使确认丢失了），重传前面发</text><text id="ProcessOnText1131" fill="#000000" font-size="19" x="0.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">送过的分组。这叫做超时重传。</text><text id="ProcessOnText1132" fill="#000000" font-size="19" x="0.0" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19"></text><text id="ProcessOnText1133" fill="#000000" font-size="19" x="0.0" y="185.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">①发送方发送完一个分组后，必须暂时保留分组的副本</text><text id="ProcessOnText1134" fill="#000000" font-size="19" x="0.0" y="209.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">②分组和确认分组都必须进行编号</text><text id="ProcessOnText1135" fill="#000000" font-size="19" x="0.0" y="233.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">③超时计时器设置的重传时间应当比数据在分组传输的</text><text id="ProcessOnText1136" fill="#000000" font-size="19" x="0.0" y="256.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">平均往返时间更长一些</text><text id="ProcessOnText1137" fill="#000000" font-size="19" x="0.0" y="280.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19"></text><text id="ProcessOnText1138" fill="#000000" font-size="19" x="0.0" y="304.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">确认丢失：</text><text id="ProcessOnText1139" fill="#000000" font-size="19" x="0.0" y="328.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">当接收方收到了发送方发来同样的分组时，不向上交付</text><text id="ProcessOnText1140" fill="#000000" font-size="19" x="0.0" y="351.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">向发送方发送确认，此时的情况是最初的确认分组丢失</text><text id="ProcessOnText1141" fill="#000000" font-size="19" x="0.0" y="375.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19"></text><text id="ProcessOnText1142" fill="#000000" font-size="19" x="0.0" y="399.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">确认迟到：</text><text id="ProcessOnText1143" fill="#000000" font-size="19" x="0.0" y="423.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">发送方收到了接收方发来的重复确认时，收下后即弃</text><text id="ProcessOnText1144" fill="#000000" font-size="19" x="0.0" y="446.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">接收方收到重复的M1，同样丢弃，但要重传确认分组</text></g></g><g id="ProcessOnG1145" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,2791.4999923706055)" opacity="1.0"><path id="ProcessOnPath1146" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 153.30005645751953Q494.0 157.30005645751953 490.0 157.30005645751953L4.0 157.30005645751953Q0.0 157.30005645751953 0.0 153.30005645751953Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1147" transform="matrix(1.0,0.0,0.0,1.0,10.0,7.400028228759766)"><text id="ProcessOnText1148" fill="#000000" font-size="19" x="0.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">停止等待协议的优点是简单，缺点是信道利用率太低</text><text id="ProcessOnText1149" fill="#000000" font-size="19" x="0.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">假设发送方发送分组需要时间T1，接收方发送确认分组</text><text id="ProcessOnText1150" fill="#000000" font-size="19" x="0.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">需要时间T2，RTT是往返时间，则：</text><text id="ProcessOnText1151" fill="#000000" font-size="19" x="0.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">信道利用率U = T1/(T1 + T2 + RTT)</text><text id="ProcessOnText1152" fill="#000000" font-size="19" x="0.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">为了提高传输效率，发送方可以不使用低效率的停止等</text><text id="ProcessOnText1153" fill="#000000" font-size="19" x="0.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">待协议，采用流水线传输。</text></g></g><g id="ProcessOnG1154" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,2992.6999435424805)" opacity="1.0"><path id="ProcessOnPath1155" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 153.30005645751953Q494.0 157.30005645751953 490.0 157.30005645751953L4.0 157.30005645751953Q0.0 157.30005645751953 0.0 153.30005645751953Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1156" transform="matrix(1.0,0.0,0.0,1.0,10.0,7.400028228759766)"><text id="ProcessOnText1157" fill="#000000" font-size="19" x="0.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">连续ARQ协议：发送方维持发送窗口，窗口的意义是发</text><text id="ProcessOnText1158" fill="#000000" font-size="19" x="0.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">送窗口内的分组都可以连续发送出去而不需要等待确认</text><text id="ProcessOnText1159" fill="#000000" font-size="19" x="0.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">连续ARQ协议规定，发送方每收到一个确认，就把发送</text><text id="ProcessOnText1160" fill="#000000" font-size="19" x="0.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">窗口向前滑动一个分组的位置。</text><text id="ProcessOnText1161" fill="#000000" font-size="19" x="0.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">接受方一般采用累积确认的方式，收到几个分组后，对</text><text id="ProcessOnText1162" fill="#000000" font-size="19" x="0.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">按序到达的最后一个分组发送确认。</text></g></g><g id="ProcessOnG1163" transform="matrix(1.0,0.0,0.0,1.0,81.49999237060547,3290.0)" opacity="1.0"><path id="ProcessOnPath1164" d="M0.0 4.0Q0.0 0.0 4.0 0.0L514.1999969482422 0.0Q518.1999969482422 0.0 518.1999969482422 4.0L518.1999969482422 1235.0Q518.1999969482422 1239.0 514.1999969482422 1239.0L4.0 1239.0Q0.0 1239.0 0.0 1235.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/></g><g id="ProcessOnG1165" transform="matrix(1.0,0.0,0.0,1.0,243.84999084472656,3201.4999923706055)" opacity="1.0"><path id="ProcessOnPath1166" d="M0.0 4.0Q0.0 0.0 4.0 0.0L189.5 0.0Q193.5 0.0 193.5 4.0L193.5 34.09998321533203Q193.5 38.09998321533203 189.5 38.09998321533203L4.0 38.09998321533203Q0.0 38.09998321533203 0.0 34.09998321533203Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1167" transform="matrix(1.0,0.0,0.0,1.0,10.0,7.174991607666016)"><text id="ProcessOnText1168" fill="#000000" font-size="19" x="85.75" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">TCP报文首部格式</text></g></g><g id="ProcessOnG1169"><path id="ProcessOnPath1170" d="M340.59999084472656 3239.5999755859375L340.59999084472656 3264.7999877929688L340.59999084472656 3264.7999877929688L340.59999084472656 3274.7639320225003" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1171)"/></g><g id="ProcessOnG1173" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,3299.4999923706055)" opacity="1.0"><path id="ProcessOnPath1174" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 60.50000762939453Q494.0 64.50000762939453 490.0 64.50000762939453L4.0 64.50000762939453Q0.0 64.50000762939453 0.0 60.50000762939453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1175" transform="matrix(1.0,0.0,0.0,1.0,10.0,8.500003814697266)"><text id="ProcessOnText1176" fill="#000000" font-size="19" x="236.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">TCP报文首部前20个字节是固定的，后面是选项部分</text><text id="ProcessOnText1177" fill="#000000" font-size="19" x="236.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">因此TCP首部的最小长度是20字节</text></g></g><g id="ProcessOnG1178" transform="matrix(1.0,0.0,0.0,1.0,90.69998931884766,3403.4999923706055)" opacity="1.0"><path id="ProcessOnPath1179" d="M0.0 4.0Q0.0 0.0 4.0 0.0L495.8000030517578 0.0Q499.8000030517578 0.0 499.8000030517578 4.0L499.8000030517578 1114.5000076293945Q499.8000030517578 1118.5000076293945 495.8000030517578 1118.5000076293945L4.0 1118.5000076293945Q0.0 1118.5000076293945 0.0 1114.5000076293945Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1180" transform="matrix(1.0,0.0,0.0,1.0,10.0,13.000003814697266)"><text id="ProcessOnText1181" fill="#000000" font-size="19" x="0.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">①源端口和目的端口：各2个字节</text><text id="ProcessOnText1182" fill="#000000" font-size="19" x="0.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">②序号：4字节  序号使用 mod 2的32次方运算</text><text id="ProcessOnText1183" fill="#000000" font-size="19" x="0.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">TCP连接中传送的字节流中的每一个字节都按顺序编号</text><text id="ProcessOnText1184" fill="#000000" font-size="19" x="0.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">首部中的序号字段值指本报文中第一个字节的序号</text><text id="ProcessOnText1185" fill="#000000" font-size="19" x="0.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">③确认号：4字节  确认号是期待收到对方下一个报文段</text><text id="ProcessOnText1186" fill="#000000" font-size="19" x="0.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">的第一个数字字节的序号</text><text id="ProcessOnText1187" fill="#000000" font-size="19" x="0.0" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">若确认号为N，则N-1为止的所有数据都已正确收到</text><text id="ProcessOnText1188" fill="#000000" font-size="19" x="0.0" y="185.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">④数据偏移：4位，指出了TCP报文段的首部长度</text><text id="ProcessOnText1189" fill="#000000" font-size="19" x="0.0" y="209.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">数据偏移最大值为60字节，也是TCP首部最大长度</text><text id="ProcessOnText1190" fill="#000000" font-size="19" x="0.0" y="233.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">⑤保留：6位，今后使用</text><text id="ProcessOnText1191" fill="#000000" font-size="19" x="0.0" y="256.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">⑥6个控制位：</text><text id="ProcessOnText1192" fill="#000000" font-size="19" x="0.0" y="280.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">-----终止FIN（Finish）</text><text id="ProcessOnText1193" fill="#000000" font-size="19" x="0.0" y="304.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------释放TCP连接</text><text id="ProcessOnText1194" fill="#000000" font-size="19" x="0.0" y="328.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">-----紧急URG（Urgent）</text><text id="ProcessOnText1195" fill="#000000" font-size="19" x="0.0" y="351.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------高优先级的数据</text><text id="ProcessOnText1196" fill="#000000" font-size="19" x="0.0" y="375.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">-----复位RST（Reset）</text><text id="ProcessOnText1197" fill="#000000" font-size="19" x="0.0" y="399.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------TCP连接中出现了严重差错</text><text id="ProcessOnText1198" fill="#000000" font-size="19" x="0.0" y="423.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">-----确认ACK（Acknowledgement）</text><text id="ProcessOnText1199" fill="#000000" font-size="19" x="0.0" y="446.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------仅当ACK = 1时确认号字段才有效</text><text id="ProcessOnText1200" fill="#000000" font-size="19" x="0.0" y="470.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">-----推送PSH（Push）</text><text id="ProcessOnText1201" fill="#000000" font-size="19" x="0.0" y="494.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------两个进程进行交互通信时</text><text id="ProcessOnText1202" fill="#000000" font-size="19" x="0.0" y="518.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------有时一端的进程希望另一端能实时回应。</text><text id="ProcessOnText1203" fill="#000000" font-size="19" x="0.0" y="541.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">-----同步SYN（Synchronization）</text><text id="ProcessOnText1204" fill="#000000" font-size="19" x="0.0" y="565.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------在连接建立时用来同步序号。当SYN = 1</text><text id="ProcessOnText1205" fill="#000000" font-size="19" x="0.0" y="589.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------ACK = 0时表示这是一个连接请求报文段</text><text id="ProcessOnText1206" fill="#000000" font-size="19" x="0.0" y="613.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------若对方同意建立连接，则在相应中的报文置</text><text id="ProcessOnText1207" fill="#000000" font-size="19" x="0.0" y="636.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------SYN = 1，ACK = 1</text><text id="ProcessOnText1208" fill="#000000" font-size="19" x="0.0" y="660.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">⑦窗口：2字节   指的是发送报文段一方的接收窗口大小</text><text id="ProcessOnText1209" fill="#000000" font-size="19" x="0.0" y="684.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">窗口值是接收方让发送方设置其发送窗口大小的依据</text><text id="ProcessOnText1210" fill="#000000" font-size="19" x="0.0" y="708.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">⑧检验和：2字节   范围包括首部、伪首部和数据部分</text><text id="ProcessOnText1211" fill="#000000" font-size="19" x="0.0" y="731.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">⑨紧急指针：2字节   紧急指针仅在URG = 1时才有效</text><text id="ProcessOnText1212" fill="#000000" font-size="19" x="0.0" y="755.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">指出本报文段中紧急数据的字节数（其后是普通数据）</text><text id="ProcessOnText1213" fill="#000000" font-size="19" x="0.0" y="779.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">⑩选项：长度可变，0-40字节</text><text id="ProcessOnText1214" fill="#000000" font-size="19" x="0.0" y="803.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">-----最大报文段长度MSS</text><text id="ProcessOnText1215" fill="#000000" font-size="19" x="0.0" y="826.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------Maximum Segment Size</text><text id="ProcessOnText1216" fill="#000000" font-size="19" x="0.0" y="850.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------MSS是TCP报文中的数字字段的最大长度</text><text id="ProcessOnText1217" fill="#000000" font-size="19" x="0.0" y="874.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------MSS应尽可能大一些，只要</text><text id="ProcessOnText1218" fill="#000000" font-size="19" x="0.0" y="898.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------在IP层当中不需要分片传输即可</text><text id="ProcessOnText1219" fill="#000000" font-size="19" x="0.0" y="921.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------两个传送方向可以设置不同的MSS值</text><text id="ProcessOnText1220" fill="#000000" font-size="19" x="0.0" y="945.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">-----窗口扩大：扩大窗口用</text><text id="ProcessOnText1221" fill="#000000" font-size="19" x="0.0" y="969.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">-----时间戳：时间戳值字段和时间戳回送回答字段</text><text id="ProcessOnText1222" fill="#000000" font-size="19" x="0.0" y="993.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------计算往返时间RTT</text><text id="ProcessOnText1223" fill="#000000" font-size="19" x="0.0" y="1016.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------防止序号绕回PAWS</text><text id="ProcessOnText1224" fill="#000000" font-size="19" x="0.0" y="1040.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------Protect Against Wrapped Sequence</text><text id="ProcessOnText1225" fill="#000000" font-size="19" x="0.0" y="1064.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------为了接收方能分开新的报文段和迟到很久的</text><text id="ProcessOnText1226" fill="#000000" font-size="19" x="0.0" y="1088.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">----------报文段，可加上时间戳</text></g></g><g id="ProcessOnG1227" transform="matrix(1.0,0.0,0.0,1.0,78.7499885559082,4660.0)" opacity="1.0"><path id="ProcessOnPath1228" d="M0.0 4.0Q0.0 0.0 4.0 0.0L519.7000045776367 0.0Q523.7000045776367 0.0 523.7000045776367 4.0L523.7000045776367 1609.2001953125Q523.7000045776367 1613.2001953125 519.7000045776367 1613.2001953125L4.0 1613.2001953125Q0.0 1613.2001953125 0.0 1609.2001953125Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/></g><g id="ProcessOnG1229" transform="matrix(1.0,0.0,0.0,1.0,243.84999084472656,4571.4999923706055)" opacity="1.0"><path id="ProcessOnPath1230" d="M0.0 4.0Q0.0 0.0 4.0 0.0L189.5 0.0Q193.5 0.0 193.5 4.0L193.5 34.09998321533203Q193.5 38.09998321533203 189.5 38.09998321533203L4.0 38.09998321533203Q0.0 38.09998321533203 0.0 34.09998321533203Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1231" transform="matrix(1.0,0.0,0.0,1.0,10.0,7.174991607666016)"><text id="ProcessOnText1232" fill="#000000" font-size="19" x="85.75" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">TCP可靠传输的实现</text></g></g><g id="ProcessOnG1233"><path id="ProcessOnPath1234" d="M340.59999084472656 4609.5999755859375L340.59999084472656 4634.799987792969L340.59999084472656 4634.799987792969L340.59999084472656 4644.7639320225" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1235)"/></g><g id="ProcessOnG1237" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,4669.4999923706055)" opacity="1.0"><path id="ProcessOnPath1238" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 320.50000762939453Q494.0 324.50000762939453 490.0 324.50000762939453L4.0 324.50000762939453Q0.0 324.50000762939453 0.0 320.50000762939453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1239" transform="matrix(1.0,0.0,0.0,1.0,10.0,7.875003814697266)"><text id="ProcessOnText1240" fill="#000000" font-size="19" x="236.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">发送窗口后沿后方表示已发送且收到了确认</text><text id="ProcessOnText1241" fill="#000000" font-size="19" x="236.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">发送窗口前沿前方表示目前不允许发送 </text><text id="ProcessOnText1242" fill="#000000" font-size="19" x="236.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">发送窗口的位置由窗口前沿后沿共同决定</text><text id="ProcessOnText1243" fill="#000000" font-size="19" x="236.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19"></text><text id="ProcessOnText1244" fill="#000000" font-size="19" x="236.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">发送窗口后沿变化情况有两种：</text><text id="ProcessOnText1245" fill="#000000" font-size="19" x="236.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">不动（没有收到新的确认）和前移（收到了新的确认）</text><text id="ProcessOnText1246" fill="#000000" font-size="19" x="236.0" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19"></text><text id="ProcessOnText1247" fill="#000000" font-size="19" x="236.0" y="185.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">发送窗口前沿通常不断向前移动，也可能会不动</text><text id="ProcessOnText1248" fill="#000000" font-size="19" x="236.0" y="209.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">发送窗口前沿不动的情况有两种：</text><text id="ProcessOnText1249" fill="#000000" font-size="19" x="236.0" y="233.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">没有收到新的确认，对方通知的窗口大小不变</text><text id="ProcessOnText1250" fill="#000000" font-size="19" x="236.0" y="256.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">收到了新的确认，对方通知的窗口大小变小</text><text id="ProcessOnText1251" fill="#000000" font-size="19" x="236.0" y="280.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">发送窗口前沿也可能后退，原因是对方接收窗口变小了</text><text id="ProcessOnText1252" fill="#000000" font-size="19" x="236.0" y="304.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">但TCP标准强烈不赞成这样做</text></g></g><g id="ProcessOnG1253" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,5036.4999923706055)" opacity="1.0"><path id="ProcessOnPath1254" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 114.30030059814453Q494.0 118.30030059814453 490.0 118.30030059814453L4.0 118.30030059814453Q0.0 118.30030059814453 0.0 114.30030059814453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1255" transform="matrix(1.0,0.0,0.0,1.0,10.0,11.650150299072266)"><text id="ProcessOnText1256" fill="#000000" font-size="19" x="236.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">描述一个发送窗口的状态需要三个指针</text><text id="ProcessOnText1257" fill="#000000" font-size="19" x="236.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">P3 - P1 = 发送方的发送窗口</text><text id="ProcessOnText1258" fill="#000000" font-size="19" x="236.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">P2 - P1 = 已发送但尚未收到确认的字节数</text><text id="ProcessOnText1259" fill="#000000" font-size="19" x="236.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">P3 - P2 = 允许发送但尚未发送的字节数（可用窗口）</text></g></g><g id="ProcessOnG1260" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,5194.8998947143555)" opacity="1.0"><path id="ProcessOnPath1261" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 352.30030059814453Q494.0 356.30030059814453 490.0 356.30030059814453L4.0 356.30030059814453Q0.0 356.30030059814453 0.0 352.30030059814453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1262" transform="matrix(1.0,0.0,0.0,1.0,10.0,11.900150299072266)"><text id="ProcessOnText1263" fill="#000000" font-size="19" x="0.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">发送缓存用来暂时存放：</text><text id="ProcessOnText1264" fill="#000000" font-size="19" x="0.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">发送应用程序传送给发送方TCP准备发送的数据</text><text id="ProcessOnText1265" fill="#000000" font-size="19" x="0.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">TCP已发出但尚未收到确认的数据</text><text id="ProcessOnText1266" fill="#000000" font-size="19" x="0.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">发送窗口是发送缓存的一部分，通常二者后沿重合</text><text id="ProcessOnText1267" fill="#000000" font-size="19" x="0.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19"></text><text id="ProcessOnText1268" fill="#000000" font-size="19" x="0.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">接收缓存用来暂时存放：</text><text id="ProcessOnText1269" fill="#000000" font-size="19" x="0.0" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">按序到达的，但尚未被接收应用程序读取的数据</text><text id="ProcessOnText1270" fill="#000000" font-size="19" x="0.0" y="185.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">未按序到达的数据</text><text id="ProcessOnText1271" fill="#000000" font-size="19" x="0.0" y="209.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">TCP通常对未按序到达的数据先临时放在接受窗口当中</text><text id="ProcessOnText1272" fill="#000000" font-size="19" x="0.0" y="233.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">等待字节流中缺少的字节收到后按序交付上层应用进程</text><text id="ProcessOnText1273" fill="#000000" font-size="19" x="0.0" y="256.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19"></text><text id="ProcessOnText1274" fill="#000000" font-size="19" x="0.0" y="280.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">TCP要求接收方有累积确认功能，不过接受方不应过分</text><text id="ProcessOnText1275" fill="#000000" font-size="19" x="0.0" y="304.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">推迟发送确认，否则会导致发送方不必要的重传</text><text id="ProcessOnText1276" fill="#000000" font-size="19" x="0.0" y="328.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">也可以在自己有数据要发送时把确认信息顺便捎带上</text></g></g><g id="ProcessOnG1277" transform="matrix(1.0,0.0,0.0,1.0,90.8499870300293,5591.2001953125)" opacity="1.0"><path id="ProcessOnPath1278" d="M0.0 4.0Q0.0 0.0 4.0 0.0L495.50000762939453 0.0Q499.50000762939453 0.0 499.50000762939453 4.0L499.50000762939453 447.19970703125Q499.50000762939453 451.19970703125 495.50000762939453 451.19970703125L4.0 451.19970703125Q0.0 451.19970703125 0.0 447.19970703125Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1279" transform="matrix(1.0,0.0,0.0,1.0,10.0,-0.025146484375)"><text id="ProcessOnText1280" fill="#000000" font-size="19" x="0.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">超时重传时间的选择：</text><text id="ProcessOnText1281" fill="#000000" font-size="19" x="0.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">TCP使用自适应算法，记录报文发送和收到确认的时间</text><text id="ProcessOnText1282" fill="#000000" font-size="19" x="0.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">两个时间差是该报文的往返时间RTT</text><text id="ProcessOnText1283" fill="#000000" font-size="19" x="0.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">TCP保留了RTT的加权平均往返时间RTTs</text><text id="ProcessOnText1284" fill="#000000" font-size="19" x="0.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">第一次测量到RTT时，RTTs = RTT</text><text id="ProcessOnText1285" fill="#000000" font-size="19" x="0.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">以后测量到新的RTT时</text><text id="ProcessOnText1286" fill="#000000" font-size="19" x="0.0" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">RTTs = （1 - α）·RTTs + α·RTT   推荐 α = 1/8</text><text id="ProcessOnText1287" fill="#000000" font-size="19" x="0.0" y="185.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19"></text><text id="ProcessOnText1288" fill="#000000" font-size="19" x="0.0" y="209.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">超时重传时间RTO （Retransmission Time-Out）</text><text id="ProcessOnText1289" fill="#000000" font-size="19" x="0.0" y="233.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">RTO应略大于RTTs</text><text id="ProcessOnText1290" fill="#000000" font-size="19" x="0.0" y="256.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">RTO = RTTs + 4·RTTd</text><text id="ProcessOnText1291" fill="#000000" font-size="19" x="0.0" y="280.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">RTTd是RTT偏差的加权平均，与新RTT和RTTs之差有关</text><text id="ProcessOnText1292" fill="#000000" font-size="19" x="0.0" y="304.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">第一次测量时，RTTd = 0.5RTT</text><text id="ProcessOnText1293" fill="#000000" font-size="19" x="0.0" y="328.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">以后测量到新的RTT时</text><text id="ProcessOnText1294" fill="#000000" font-size="19" x="0.0" y="351.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">RTTd = （1 - β）·RTTd + β·| RTTs - RTT |  推荐β = 1/</text><text id="ProcessOnText1295" fill="#000000" font-size="19" x="0.0" y="375.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">4</text><text id="ProcessOnText1296" fill="#000000" font-size="19" x="0.0" y="399.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19"></text><text id="ProcessOnText1297" fill="#000000" font-size="19" x="0.0" y="423.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">在计算RTTs时，如果报文段重传了，则不采用其往返时</text><text id="ProcessOnText1298" fill="#000000" font-size="19" x="0.0" y="446.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">间样本。这样得出的RTTs和RTO比较准确</text></g></g><g id="ProcessOnG1299" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,6082.4999923706055)" opacity="1.0"><path id="ProcessOnPath1300" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 178.70020294189453Q494.0 182.70020294189453 490.0 182.70020294189453L4.0 182.70020294189453Q0.0 182.70020294189453 0.0 178.70020294189453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1301" transform="matrix(1.0,0.0,0.0,1.0,10.0,8.225101470947266)"><text id="ProcessOnText1302" fill="#000000" font-size="19" x="236.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">选择确认SACK（Selective ACK）</text><text id="ProcessOnText1303" fill="#000000" font-size="19" x="236.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">若收到的报文段无差错，只是未按序号，中间缺少数据</text><text id="ProcessOnText1304" fill="#000000" font-size="19" x="236.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">可以只传送缺少的数据而不必重传已经正确到达的数据</text><text id="ProcessOnText1305" fill="#000000" font-size="19" x="236.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">和前后字节不连续的每一个字节快有两个边界</text><text id="ProcessOnText1306" fill="#000000" font-size="19" x="236.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">左边界和右边界</text><text id="ProcessOnText1307" fill="#000000" font-size="19" x="236.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">左边界：字节块第一个字节的序号</text><text id="ProcessOnText1308" fill="#000000" font-size="19" x="236.0" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">右边界：字节块最后一个字节的序号加1</text></g></g><g id="ProcessOnG1309" transform="matrix(1.0,0.0,0.0,1.0,78.7499885559082,6408.0)" opacity="1.0"><path id="ProcessOnPath1310" d="M0.0 4.0Q0.0 0.0 4.0 0.0L519.7000045776367 0.0Q523.7000045776367 0.0 523.7000045776367 4.0L523.7000045776367 854.2001953125Q523.7000045776367 858.2001953125 519.7000045776367 858.2001953125L4.0 858.2001953125Q0.0 858.2001953125 0.0 854.2001953125Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/></g><g id="ProcessOnG1311" transform="matrix(1.0,0.0,0.0,1.0,258.42498779296875,6321.4999923706055)" opacity="1.0"><path id="ProcessOnPath1312" d="M0.0 4.0Q0.0 0.0 4.0 0.0L160.35000610351562 0.0Q164.35000610351562 0.0 164.35000610351562 4.0L164.35000610351562 33.70020294189453Q164.35000610351562 37.70020294189453 160.35000610351562 37.70020294189453L4.0 37.70020294189453Q0.0 37.70020294189453 0.0 33.70020294189453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1313" transform="matrix(1.0,0.0,0.0,1.0,10.0,6.975101470947266)"><text id="ProcessOnText1314" fill="#000000" font-size="19" x="71.17500305175781" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">TCP的流量控制</text></g></g><g id="ProcessOnG1315"><path id="ProcessOnPath1316" d="M340.59999084472656 6359.2001953125L340.59999084472656 6383.60009765625L340.59999084472656 6383.60009765625L340.59999084472656 6392.7639320225" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1317)"/></g><g id="ProcessOnG1319" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,6417.4999923706055)" opacity="1.0"><path id="ProcessOnPath1320" d="M0.0 4.0Q0.0 0.0 4.0 0.0L492.75000381469727 0.0Q496.75000381469727 0.0 496.75000381469727 4.0L496.75000381469727 208.70020294189453Q496.75000381469727 212.70020294189453 492.75000381469727 212.70020294189453L4.0 212.70020294189453Q0.0 212.70020294189453 0.0 208.70020294189453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1321" transform="matrix(1.0,0.0,0.0,1.0,10.0,11.350101470947266)"><text id="ProcessOnText1322" fill="#000000" font-size="19" x="237.37500190734863" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">流量控制：</text><text id="ProcessOnText1323" fill="#000000" font-size="19" x="237.37500190734863" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">让发送方的发送速率不要太快，要让接收方来得及接收</text><text id="ProcessOnText1324" fill="#000000" font-size="19" x="237.37500190734863" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">TCP为每一个连接设有一个持续计时器</text><text id="ProcessOnText1325" fill="#000000" font-size="19" x="237.37500190734863" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">如果TCP连接的一方收到对方的零窗口通知，就启动持续</text><text id="ProcessOnText1326" fill="#000000" font-size="19" x="237.37500190734863" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">计数器。若持续计时器设置的时间到期，就发送一个零</text><text id="ProcessOnText1327" fill="#000000" font-size="19" x="237.37500190734863" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">窗口试探报文。对方在确认这个探测报文时给出现在窗</text><text id="ProcessOnText1328" fill="#000000" font-size="19" x="237.37500190734863" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">口值。如果窗口仍然为0，那么重新设置持续计数器。</text><text id="ProcessOnText1329" fill="#000000" font-size="19" x="237.37500190734863" y="185.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">如果窗口不是0，则打破了死锁的僵局。</text></g></g><g id="ProcessOnG1330" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,6672.4999923706055)" opacity="1.0"><path id="ProcessOnPath1331" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 112.70020294189453Q494.0 116.70020294189453 490.0 116.70020294189453L4.0 116.70020294189453Q0.0 116.70020294189453 0.0 112.70020294189453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1332" transform="matrix(1.0,0.0,0.0,1.0,10.0,10.850101470947266)"><text id="ProcessOnText1333" fill="#000000" font-size="19" x="236.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">TCP报文段的发送时机：</text><text id="ProcessOnText1334" fill="#000000" font-size="19" x="236.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">缓存中存放的数据大小达到MSS时组装发送</text><text id="ProcessOnText1335" fill="#000000" font-size="19" x="236.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">发送方的应用进程指明要求发送报文段（PSH）</text><text id="ProcessOnText1336" fill="#000000" font-size="19" x="236.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">发送方设置计时器，到时则将缓存装入报文段发送</text></g></g><g id="ProcessOnG1337" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,6837.4999923706055)" opacity="1.0"><path id="ProcessOnPath1338" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 205.70020294189453Q494.0 209.70020294189453 490.0 209.70020294189453L4.0 209.70020294189453Q0.0 209.70020294189453 0.0 205.70020294189453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1339" transform="matrix(1.0,0.0,0.0,1.0,10.0,-2.0248985290527344)"><text id="ProcessOnText1340" fill="#000000" font-size="19" x="236.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">Nagle算法：</text><text id="ProcessOnText1341" fill="#000000" font-size="19" x="236.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">发送应用进程把要发送的数据逐个字节送到TCP发送缓</text><text id="ProcessOnText1342" fill="#000000" font-size="19" x="236.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">存</text><text id="ProcessOnText1343" fill="#000000" font-size="19" x="236.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">发送发就把第一个字节先发送去，把后面到达的字节缓</text><text id="ProcessOnText1344" fill="#000000" font-size="19" x="236.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">存起来。当发送方收到对第一个字节的确认后，再把发</text><text id="ProcessOnText1345" fill="#000000" font-size="19" x="236.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">送缓存中的所有数据组装成报文段发送出去。</text><text id="ProcessOnText1346" fill="#000000" font-size="19" x="236.0" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19"></text><text id="ProcessOnText1347" fill="#000000" font-size="19" x="236.0" y="185.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">当到达的数据已达到发送窗口大小的一半或已达到MSS</text><text id="ProcessOnText1348" fill="#000000" font-size="19" x="236.0" y="209.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">时，则立刻发送一个报文段。</text></g></g><g id="ProcessOnG1349" transform="matrix(1.0,0.0,0.0,1.0,94.9749927520752,7086.4999923706055)" opacity="1.0"><path id="ProcessOnPath1350" d="M0.0 4.0Q0.0 0.0 4.0 0.0L487.24999618530273 0.0Q491.24999618530273 0.0 491.24999618530273 4.0L491.24999618530273 166.70020294189453Q491.24999618530273 170.70020294189453 487.24999618530273 170.70020294189453L4.0 170.70020294189453Q0.0 170.70020294189453 0.0 166.70020294189453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1351" transform="matrix(1.0,0.0,0.0,1.0,10.0,14.100101470947266)"><text id="ProcessOnText1352" fill="#000000" font-size="19" x="234.62499809265137" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">糊涂窗口综合征（Silly Window Syndrome）</text><text id="ProcessOnText1353" fill="#000000" font-size="19" x="234.62499809265137" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">让接收方等待一段时间，使得或者接收缓存足够空间容</text><text id="ProcessOnText1354" fill="#000000" font-size="19" x="234.62499809265137" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">纳一个最长报文段，或者等待缓存有一半空闲空间。只</text><text id="ProcessOnText1355" fill="#000000" font-size="19" x="234.62499809265137" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">要出现两种情况之一，接收方发出确认报文，通知发送</text><text id="ProcessOnText1356" fill="#000000" font-size="19" x="234.62499809265137" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">方窗口大小。发送方也不发送太小的报文段，把数据积</text><text id="ProcessOnText1357" fill="#000000" font-size="19" x="234.62499809265137" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">累成够大的报文或达到接收方缓存空间一半大小再发送</text></g></g><g id="ProcessOnG1358" transform="matrix(1.0,0.0,0.0,1.0,80.12499046325684,7401.0)" opacity="1.0"><path id="ProcessOnPath1359" d="M0.0 4.0Q0.0 0.0 4.0 0.0L514.4750003814697 0.0Q518.4750003814697 0.0 518.4750003814697 4.0L518.4750003814697 2757.0Q518.4750003814697 2761.0 514.4750003814697 2761.0L4.0 2761.0Q0.0 2761.0 0.0 2757.0Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/></g><g id="ProcessOnG1360" transform="matrix(1.0,0.0,0.0,1.0,258.42498779296875,7314.4999923706055)" opacity="1.0"><path id="ProcessOnPath1361" d="M0.0 4.0Q0.0 0.0 4.0 0.0L160.35000610351562 0.0Q164.35000610351562 0.0 164.35000610351562 4.0L164.35000610351562 33.70020294189453Q164.35000610351562 37.70020294189453 160.35000610351562 37.70020294189453L4.0 37.70020294189453Q0.0 37.70020294189453 0.0 33.70020294189453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1362" transform="matrix(1.0,0.0,0.0,1.0,10.0,6.975101470947266)"><text id="ProcessOnText1363" fill="#000000" font-size="19" x="71.17500305175781" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">TCP的拥塞控制</text></g></g><g id="ProcessOnG1364"><path id="ProcessOnPath1365" d="M340.59999084472656 7352.2001953125L340.59999084472656 7376.60009765625L339.3624906539917 7376.60009765625L339.3624906539917 7385.7639320225" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" fill="none" marker-end="url(#ProcessOnMarker1366)"/></g><g id="ProcessOnG1368" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,7410.4999923706055)" opacity="1.0"><path id="ProcessOnPath1369" d="M0.0 4.0Q0.0 0.0 4.0 0.0L492.75000381469727 0.0Q496.75000381469727 0.0 496.75000381469727 4.0L496.75000381469727 208.70020294189453Q496.75000381469727 212.70020294189453 492.75000381469727 212.70020294189453L4.0 212.70020294189453Q0.0 212.70020294189453 0.0 208.70020294189453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1370" transform="matrix(1.0,0.0,0.0,1.0,10.0,11.350101470947266)"><text id="ProcessOnText1371" fill="#000000" font-size="19" x="237.37500190734863" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">拥塞的实质往往是整个系统各个部分不匹配，只有所有</text><text id="ProcessOnText1372" fill="#000000" font-size="19" x="237.37500190734863" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">的部分都平衡了，问题才会解决。</text><text id="ProcessOnText1373" fill="#000000" font-size="19" x="237.37500190734863" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">拥塞引起的重传并不会缓解网络的拥塞，反而会加剧</text><text id="ProcessOnText1374" fill="#000000" font-size="19" x="237.37500190734863" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">拥塞控制是一个全局性过程</text><text id="ProcessOnText1375" fill="#000000" font-size="19" x="237.37500190734863" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">流量控制是端到端问题</text><text id="ProcessOnText1376" fill="#000000" font-size="19" x="237.37500190734863" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">想要拥塞控制就需要付出代价，需要获得网络内部流量</text><text id="ProcessOnText1377" fill="#000000" font-size="19" x="237.37500190734863" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">分布的信息，在实施拥塞控制时，还需要在节点之间</text><text id="ProcessOnText1378" fill="#000000" font-size="19" x="237.37500190734863" y="185.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">交换信息和命令，以便选择控制的策略和实施措施</text></g></g><g id="ProcessOnG1379" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,7662.4999923706055)" opacity="1.0"><path id="ProcessOnPath1380" d="M0.0 4.0Q0.0 0.0 4.0 0.0L492.75000381469727 0.0Q496.75000381469727 0.0 496.75000381469727 4.0L496.75000381469727 208.70020294189453Q496.75000381469727 212.70020294189453 492.75000381469727 212.70020294189453L4.0 212.70020294189453Q0.0 212.70020294189453 0.0 208.70020294189453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1381" transform="matrix(1.0,0.0,0.0,1.0,10.0,11.350101470947266)"><text id="ProcessOnText1382" fill="#000000" font-size="19" x="237.37500190734863" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">吞吐量——负载图：</text><text id="ProcessOnText1383" fill="#000000" font-size="19" x="237.37500190734863" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">横坐标是提供的负载（Offered Load）</text><text id="ProcessOnText1384" fill="#000000" font-size="19" x="237.37500190734863" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">代表单位时间内输入给网络的分组数量 </text><text id="ProcessOnText1385" fill="#000000" font-size="19" x="237.37500190734863" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">纵坐标是吞吐量（Throughput）</text><text id="ProcessOnText1386" fill="#000000" font-size="19" x="237.37500190734863" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">代表单位时间内从网络输出的分组数量</text><text id="ProcessOnText1387" fill="#000000" font-size="19" x="237.37500190734863" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">随着提供的负载增大，吞吐量的增长速率逐渐减小</text><text id="ProcessOnText1388" fill="#000000" font-size="19" x="237.37500190734863" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">当提供的负载增大到某一数值时，网络吞吐量下降为零</text><text id="ProcessOnText1389" fill="#000000" font-size="19" x="237.37500190734863" y="185.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">网络已无法工作，造成了死锁</text></g></g><g id="ProcessOnG1390" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,7916.4999923706055)" opacity="1.0"><path id="ProcessOnPath1391" d="M0.0 4.0Q0.0 0.0 4.0 0.0L492.75000381469727 0.0Q496.75000381469727 0.0 496.75000381469727 4.0L496.75000381469727 168.10010528564453Q496.75000381469727 172.10010528564453 492.75000381469727 172.10010528564453L4.0 172.10010528564453Q0.0 172.10010528564453 0.0 168.10010528564453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1392" transform="matrix(1.0,0.0,0.0,1.0,10.0,2.9250526428222656)"><text id="ProcessOnText1393" fill="#000000" font-size="19" x="237.37500190734863" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">分组的丢失是网络发生拥塞的先兆而不是原因</text><text id="ProcessOnText1394" fill="#000000" font-size="19" x="237.37500190734863" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">在许多情况下，正是拥塞控制机制成为引起</text><text id="ProcessOnText1395" fill="#000000" font-size="19" x="237.37500190734863" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">网络性能恶化甚至发生死锁的原因</text><text id="ProcessOnText1396" fill="#000000" font-size="19" x="237.37500190734863" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">从大的方面看，拥塞控制可以分为开环控制和闭环控制</text><text id="ProcessOnText1397" fill="#000000" font-size="19" x="237.37500190734863" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">开环控制：设计网络时把所有发生拥塞的因素考虑到</text><text id="ProcessOnText1398" fill="#000000" font-size="19" x="237.37500190734863" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">闭环控制：基于反馈环路概念，实时发现问题，解决问</text><text id="ProcessOnText1399" fill="#000000" font-size="19" x="237.37500190734863" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">题</text></g></g><g id="ProcessOnG1400" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,8129.4999923706055)" opacity="1.0"><path id="ProcessOnPath1401" d="M0.0 4.0Q0.0 0.0 4.0 0.0L492.75000381469727 0.0Q496.75000381469727 0.0 496.75000381469727 4.0L496.75000381469727 595.7002029418945Q496.75000381469727 599.7002029418945 492.75000381469727 599.7002029418945L4.0 599.7002029418945Q0.0 599.7002029418945 0.0 595.7002029418945Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1402" transform="matrix(1.0,0.0,0.0,1.0,10.0,14.850101470947266)"><text id="ProcessOnText1403" fill="#000000" font-size="19" x="0.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">TCP进行拥塞控制的算法有四种</text><text id="ProcessOnText1404" fill="#000000" font-size="19" x="0.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">慢开始、拥塞避免、快重传和快恢复</text><text id="ProcessOnText1405" fill="#000000" font-size="19" x="0.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">慢开始（slow start）：</text><text id="ProcessOnText1406" fill="#000000" font-size="19" x="0.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">发送方维持一拥塞窗口 cwnd（congestion window）</text><text id="ProcessOnText1407" fill="#000000" font-size="19" x="0.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">拥塞窗口的大小取决于网络拥塞程度，动态变化</text><text id="ProcessOnText1408" fill="#000000" font-size="19" x="0.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">发送方让自己的发送窗口等于拥塞窗口</text><text id="ProcessOnText1409" fill="#000000" font-size="19" x="0.0" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">只要网络没有出现拥塞，拥塞窗口就可以再大一点</text><text id="ProcessOnText1410" fill="#000000" font-size="19" x="0.0" y="185.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">只要网络出现拥塞或可能拥塞，拥塞窗口就减小一点</text><text id="ProcessOnText1411" fill="#000000" font-size="19" x="0.0" y="209.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">判断网络拥塞的依据就是出现了超时</text><text id="ProcessOnText1412" fill="#000000" font-size="19" x="0.0" y="233.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">在慢开始中，每收到对一个新的报文段的确认</text><text id="ProcessOnText1413" fill="#000000" font-size="19" x="0.0" y="256.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">就可以把拥塞窗口增加最对SMSS的数值</text><text id="ProcessOnText1414" fill="#000000" font-size="19" x="0.0" y="280.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">每经过一个传输轮次，拥塞窗口cwnd就加倍</text><text id="ProcessOnText1415" fill="#000000" font-size="19" x="0.0" y="304.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">传输轮次：发送方把拥塞窗口内的报文都发送出去</text><text id="ProcessOnText1416" fill="#000000" font-size="19" x="0.0" y="328.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">并收到了对已发送的最后一个字节的确认</text><text id="ProcessOnText1417" fill="#000000" font-size="19" x="0.0" y="351.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">拥塞避免（congestion avoidance）：</text><text id="ProcessOnText1418" fill="#000000" font-size="19" x="0.0" y="375.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">慢开始门限ssthresh：</text><text id="ProcessOnText1419" fill="#000000" font-size="19" x="0.0" y="399.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">当cwnd &lt; ssthresh：使用慢开始算法</text><text id="ProcessOnText1420" fill="#000000" font-size="19" x="0.0" y="423.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">当cwnd &gt; ssthresh：改用拥塞避免算法</text><text id="ProcessOnText1421" fill="#000000" font-size="19" x="0.0" y="446.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">当cwnd = ssthresh：两种算法都可以</text><text id="ProcessOnText1422" fill="#000000" font-size="19" x="0.0" y="470.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">拥塞避免让拥塞窗口cwnd缓慢地增大，每经过一个往返</text><text id="ProcessOnText1423" fill="#000000" font-size="19" x="0.0" y="494.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">时间RTT就把发送方cwnd加一，是线性规律缓慢增长，</text><text id="ProcessOnText1424" fill="#000000" font-size="19" x="0.0" y="518.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">有“加法增大”AI（Additive Increase）的特点</text><text id="ProcessOnText1425" fill="#000000" font-size="19" x="0.0" y="541.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">当网络出现超时，调整门限值ssthresh = cwnd/2  </text><text id="ProcessOnText1426" fill="#000000" font-size="19" x="0.0" y="565.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">同时修改拥塞窗口cwnd = 1，进入慢开始阶段</text></g></g><g id="ProcessOnG1427" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,8771.499992370605)" opacity="1.0"><path id="ProcessOnPath1428" d="M0.0 4.0Q0.0 0.0 4.0 0.0L492.75000381469727 0.0Q496.75000381469727 0.0 496.75000381469727 4.0L496.75000381469727 310.50000762939453Q496.75000381469727 314.50000762939453 492.75000381469727 314.50000762939453L4.0 314.50000762939453Q0.0 314.50000762939453 0.0 310.50000762939453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1429" transform="matrix(1.0,0.0,0.0,1.0,10.0,2.8750038146972656)"><text id="ProcessOnText1430" fill="#000000" font-size="19" x="0.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">快重传（Fast Retransmit）：可以让发送方尽早知道发</text><text id="ProcessOnText1431" fill="#000000" font-size="19" x="0.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">生了个别报文段的丢失。比如接收方收到了M1和M2都</text><text id="ProcessOnText1432" fill="#000000" font-size="19" x="0.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">发出了确认，没有收到M3但收到了M4。本来接收方可</text><text id="ProcessOnText1433" fill="#000000" font-size="19" x="0.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">以什么都不做，但是按照快重传算法接受方需要立即发</text><text id="ProcessOnText1434" fill="#000000" font-size="19" x="0.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">送对M2的重复确认，让发送方尽早知道接收方没有收到</text><text id="ProcessOnText1435" fill="#000000" font-size="19" x="0.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">。</text><text id="ProcessOnText1436" fill="#000000" font-size="19" x="0.0" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19"></text><text id="ProcessOnText1437" fill="#000000" font-size="19" x="0.0" y="185.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">快恢复（Fast Recovery）：发送方知道现在只是丢失了</text><text id="ProcessOnText1438" fill="#000000" font-size="19" x="0.0" y="209.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">个别报文段，于是不启动慢开始而是执行快恢复算法。</text><text id="ProcessOnText1439" fill="#000000" font-size="19" x="0.0" y="233.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">调整门限ssthresh = cwnd/2，设置拥塞窗口cwnd = ss</text><text id="ProcessOnText1440" fill="#000000" font-size="19" x="0.0" y="256.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">thresh并开始执行拥塞避免算法。也有的快恢复的实现</text><text id="ProcessOnText1441" fill="#000000" font-size="19" x="0.0" y="280.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">是把快恢复开始时的拥塞窗口cwnd再增大一点（3个报</text><text id="ProcessOnText1442" fill="#000000" font-size="19" x="0.0" y="304.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">文段长度），cwnd = ssthresh + 3MSS</text></g></g><g id="ProcessOnG1443" transform="matrix(1.0,0.0,0.0,1.0,92.22498893737793,9131.499992370605)" opacity="1.0"><path id="ProcessOnPath1444" d="M0.0 4.0Q0.0 0.0 4.0 0.0L492.75000381469727 0.0Q496.75000381469727 0.0 496.75000381469727 4.0L496.75000381469727 310.50000762939453Q496.75000381469727 314.50000762939453 492.75000381469727 314.50000762939453L4.0 314.50000762939453Q0.0 314.50000762939453 0.0 310.50000762939453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1445" transform="matrix(1.0,0.0,0.0,1.0,10.0,2.8750038146972656)"><text id="ProcessOnText1446" fill="#000000" font-size="19" x="0.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">快重传（Fast Retransmit）：可以让发送方尽早知道发</text><text id="ProcessOnText1447" fill="#000000" font-size="19" x="0.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">生了个别报文段的丢失。比如接收方收到了M1和M2都</text><text id="ProcessOnText1448" fill="#000000" font-size="19" x="0.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">发出了确认，没有收到M3但收到了M4。本来接收方可</text><text id="ProcessOnText1449" fill="#000000" font-size="19" x="0.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">以什么都不做，但是按照快重传算法接受方需要立即发</text><text id="ProcessOnText1450" fill="#000000" font-size="19" x="0.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">送对M2的重复确认，让发送方尽早知道接收方没有收到</text><text id="ProcessOnText1451" fill="#000000" font-size="19" x="0.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">。</text><text id="ProcessOnText1452" fill="#000000" font-size="19" x="0.0" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19"></text><text id="ProcessOnText1453" fill="#000000" font-size="19" x="0.0" y="185.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">快恢复（Fast Recovery）：发送方知道现在只是丢失了</text><text id="ProcessOnText1454" fill="#000000" font-size="19" x="0.0" y="209.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">个别报文段，于是不启动慢开始而是执行快恢复算法。</text><text id="ProcessOnText1455" fill="#000000" font-size="19" x="0.0" y="233.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">调整门限ssthresh = cwnd/2，设置拥塞窗口cwnd = ss</text><text id="ProcessOnText1456" fill="#000000" font-size="19" x="0.0" y="256.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">thresh并开始执行拥塞避免算法。也有的快恢复的实现</text><text id="ProcessOnText1457" fill="#000000" font-size="19" x="0.0" y="280.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">是把快恢复开始时的拥塞窗口cwnd再增大一点（3个报</text><text id="ProcessOnText1458" fill="#000000" font-size="19" x="0.0" y="304.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="start" size="19">文段长度），cwnd = ssthresh + 3MSS</text></g></g><g id="ProcessOnG1459" transform="matrix(1.0,0.0,0.0,1.0,92.22498893737793,9490.499992370605)" opacity="1.0"><path id="ProcessOnPath1460" d="M0.0 4.0Q0.0 0.0 4.0 0.0L492.75000381469727 0.0Q496.75000381469727 0.0 496.75000381469727 4.0L496.75000381469727 92.10059356689453Q496.75000381469727 96.10059356689453 492.75000381469727 96.10059356689453L4.0 96.10059356689453Q0.0 96.10059356689453 0.0 92.10059356689453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1461" transform="matrix(1.0,0.0,0.0,1.0,10.0,12.425296783447266)"><text id="ProcessOnText1462" fill="#000000" font-size="19" x="237.37500190734863" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">发送方窗口上限为：min（rwnd，cwnd）</text><text id="ProcessOnText1463" fill="#000000" font-size="19" x="237.37500190734863" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">rwnd&lt;cwnd时是接收方的接受能力限制了发送窗口大小</text><text id="ProcessOnText1464" fill="#000000" font-size="19" x="237.37500190734863" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">rwnd&gt;cwnd时是网络拥塞程度限制了发送窗口大小</text></g></g><g id="ProcessOnG1465" transform="matrix(1.0,0.0,0.0,1.0,92.22498893737793,9630.499992370605)" opacity="1.0"><path id="ProcessOnPath1466" d="M0.0 4.0Q0.0 0.0 4.0 0.0L492.75000381469727 0.0Q496.75000381469727 0.0 496.75000381469727 4.0L496.75000381469727 291.50000762939453Q496.75000381469727 295.50000762939453 492.75000381469727 295.50000762939453L4.0 295.50000762939453Q0.0 295.50000762939453 0.0 291.50000762939453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1467" transform="matrix(1.0,0.0,0.0,1.0,10.0,5.250003814697266)"><text id="ProcessOnText1468" fill="#000000" font-size="19" x="237.37500190734863" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">网络层的策略对TCP拥塞控制影响最大的</text><text id="ProcessOnText1469" fill="#000000" font-size="19" x="237.37500190734863" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">就是路由器的分组丢弃策略</text><text id="ProcessOnText1470" fill="#000000" font-size="19" x="237.37500190734863" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">队列满时，再到达的分组都要被丢弃</text><text id="ProcessOnText1471" fill="#000000" font-size="19" x="237.37500190734863" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">这就是尾部丢弃策略</text><text id="ProcessOnText1472" fill="#000000" font-size="19" x="237.37500190734863" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">路由器的尾部丢弃往往使TCP进入拥塞控制的慢开始阶段</text><text id="ProcessOnText1473" fill="#000000" font-size="19" x="237.37500190734863" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">网络中通常有很多TCP连接，复用在IP数据报中传送</text><text id="ProcessOnText1474" fill="#000000" font-size="19" x="237.37500190734863" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">这会使很多TCP连接在同一时间突然进入慢开始阶段</text><text id="ProcessOnText1475" fill="#000000" font-size="19" x="237.37500190734863" y="185.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">这在TCP中称为全局同步（global synchronization）</text><text id="ProcessOnText1476" fill="#000000" font-size="19" x="237.37500190734863" y="209.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">为了避免网络中出现全局同步现象</text><text id="ProcessOnText1477" fill="#000000" font-size="19" x="237.37500190734863" y="233.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">使用主动队列管理（Active Queue Management）</text><text id="ProcessOnText1478" fill="#000000" font-size="19" x="237.37500190734863" y="256.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">在队列长度达到某个值得警惕的数值时主动丢弃</text><text id="ProcessOnText1479" fill="#000000" font-size="19" x="237.37500190734863" y="280.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">到达的分组，提醒发送方放慢发送速率</text></g></g><g id="ProcessOnG1480" transform="matrix(1.0,0.0,0.0,1.0,93.59999084472656,9971.499992370605)" opacity="1.0"><path id="ProcessOnPath1481" d="M0.0 4.0Q0.0 0.0 4.0 0.0L490.0 0.0Q494.0 0.0 494.0 4.0L494.0 178.50000762939453Q494.0 182.50000762939453 490.0 182.50000762939453L4.0 182.50000762939453Q0.0 182.50000762939453 0.0 178.50000762939453Z" stroke="#323232" stroke-width="2.0" stroke-dasharray="none" opacity="1.0" fill="#ffffff"/><g id="ProcessOnG1482" transform="matrix(1.0,0.0,0.0,1.0,10.0,8.125003814697266)"><text id="ProcessOnText1483" fill="#000000" font-size="19" x="236.0" y="19.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">随机早期检测（Random Early Detection）</text><text id="ProcessOnText1484" fill="#000000" font-size="19" x="236.0" y="43.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">RED需要让路由器维持两个参数</text><text id="ProcessOnText1485" fill="#000000" font-size="19" x="236.0" y="66.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">即队列长度最小门限和最大门限</text><text id="ProcessOnText1486" fill="#000000" font-size="19" x="236.0" y="90.725" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">若队列长度小于最小门限就把新分组放入队列</text><text id="ProcessOnText1487" fill="#000000" font-size="19" x="236.0" y="114.475" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">若队列长度大于最大门限就把新分组丢弃</text><text id="ProcessOnText1488" fill="#000000" font-size="19" x="236.0" y="138.225" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">若队列长度介于最小门限和最大门限之间</text><text id="ProcessOnText1489" fill="#000000" font-size="19" x="236.0" y="161.975" font-family="微软雅黑" font-weight="normal" font-style="normal" text-decoration="none" family="微软雅黑" text-anchor="middle" size="19">按照某一丢弃概率p把新到达的分组丢弃</text></g></g></g></g></svg>